{"version":3,"sources":["Components/part2/ex19-20/Filter.js","Components/part2/ex19-20/PeopleForm.js","Services/people.js","Components/part2/ex19-20/People.js","Components/Notification.js","App.js","index.js"],"names":["Filter","people","filter","setFilter","filteredPeople","map","person","name","toLowerCase","includes","filteredResult","length","item","i","key","value","onChange","event","target","PeopleForm","newName","setNewName","newNumber","setNewNumber","handleOnSubmit","onSubmit","type","baseURL","axios","get","then","response","data","newObject","post","id","console","log","put","delete","People","setPeople","number","onClick","window","confirm","peopleService","p","deleteOnClickHandler","Notification","message","content","className","App","useState","initialMessage","setMessage","useEffect","returnedData","preventDefault","nameObject","targetPerson","find","undefined","concat","setTimeout","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.25e7c56c.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ people, filter, setFilter }) => {\n    const pl = people.map(person => person.name.toLowerCase());\n    const filteredPeople = pl.filter(name =>\n        name.includes(filter.toLowerCase())\n    );\n    const filteredResult =\n        filteredPeople.length !== 0 ? (\n            filteredPeople.map((item, i) => <p key={i}>{item}</p>)\n        ) : (\n            <p>\n                <b>no result found</b>\n            </p>\n        );\n    return (\n        <div>\n            filter shown with:\n            <input\n                value={filter}\n                onChange={event => setFilter(event.target.value)}\n            />\n            {filter ? (\n                filteredResult\n            ) : (\n                <p>\n                    <b>please enter filter!</b>\n                </p>\n            )}\n        </div>\n    );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nfunction PeopleForm({\n    newName,\n    setNewName,\n    newNumber,\n    setNewNumber,\n    handleOnSubmit\n}) {\n    return (\n        <form onSubmit={handleOnSubmit}>\n            <div>\n                name:\n                <input\n                    value={newName}\n                    onChange={event => setNewName(event.target.value)}\n                />\n                <div>\n                    number:{\" \"}\n                    <input\n                        value={newNumber}\n                        onChange={event => setNewNumber(event.target.value)}\n                    />\n                </div>\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    );\n}\n\nexport default PeopleForm;\n","import axios from \"axios\";\n// const baseURL = \"http://localhost:3001/api/persons\";\nconst baseURL = \"http://glacial-hamlet-20830.herokuapp.com/api/persons\";\n\nconst getAll = () => {\n    const request = axios.get(baseURL);\n    return request.then(response => response.data);\n};\n\nconst create = newObject => {\n    const request = axios.post(baseURL, newObject);\n    return request.then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n    console.log(id, newObject);\n    const request = axios.put(`${baseURL}/${id}`, newObject);\n    return request.then(response => response.data);\n};\n// delete is reserved word\nconst remove = id => {\n    return axios.delete(`${baseURL}/${id}`);\n};\n\nexport default {\n    getAll,\n    create,\n    update,\n    remove\n};\n","import React from \"react\";\nimport peopleService from \"../../../Services/people\";\n\nfunction People({ people, setPeople }) {\n    const deleteOnClickHandler = person => {\n        if (window.confirm(`Delete ${person.name}?`)) {\n            peopleService\n                .remove(person.id)\n                .then(response =>\n                    setPeople(people.filter(p => p.id !== person.id))\n                );\n        }\n    };\n    const peopleList = people.map(person => (\n        <>\n            <p key={person.name}>\n                <b>name : </b>\n                {person.name} <b>number : </b>\n                {person.number ? person.number : \"\"}{\" \"}\n                <button onClick={() => deleteOnClickHandler(person)}>\n                    delete\n                </button>\n            </p>\n        </>\n    ));\n    return peopleList;\n}\n\nexport default People;\n","import React from \"react\";\nimport \"./Notification.css\";\nfunction Notification({ message }) {\n    const { content, type } = message;\n    if (type === null) {\n        return null;\n    }\n    return <div className={type}>{content}</div>;\n}\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./Components/part2/ex19-20/Filter\";\nimport PeopleForm from \"./Components/part2/ex19-20/PeopleForm\";\nimport People from \"./Components/part2/ex19-20/People\";\nimport peopleService from \"./Services/people\";\nimport Notification from \"./Components/Notification\";\n\nconst App = () => {\n    const [people, setPeople] = useState([]);\n    const [filter, setFilter] = useState(\"\");\n    const [newName, setNewName] = useState(\"\");\n    const [newNumber, setNewNumber] = useState(\"\");\n    const initialMessage = {\n        content: \"\",\n        type: null\n    };\n    const [message, setMessage] = useState(initialMessage);\n\n    useEffect(() => {\n        peopleService.getAll().then(returnedData => setPeople(returnedData));\n    }, []);\n\n    const handleOnSubmit = event => {\n        event.preventDefault();\n        const nameObject = {\n            name: newName,\n            number: newNumber\n        };\n        const targetPerson = people.find(person => person.name === newName);\n        if (targetPerson === undefined) {\n            peopleService.create(nameObject).then(returnedData => {\n                setPeople(people.concat(returnedData));\n                setMessage({\n                    content: `Added ${returnedData.name}`,\n                    type: \"notice\"\n                });\n                setTimeout(() => setMessage(initialMessage), 3000);\n            });\n            setNewName(\"\");\n            setNewNumber(\"\");\n        } else {\n            if (\n                window.confirm(\n                    `${targetPerson.name} is already added to phonebook. Replace the old number with a new one?`\n                )\n            ) {\n                console.log(targetPerson, \"targetPerson\");\n                peopleService\n                    .update(targetPerson.id, nameObject)\n                    .then(returnedData => {\n                        setPeople(\n                            people.map(person =>\n                                person.id !== returnedData.id\n                                    ? person\n                                    : returnedData\n                            )\n                        );\n                        setMessage({\n                            content: `Updated ${returnedData.name}`,\n                            type: \"notice\"\n                        });\n                        setTimeout(() => setMessage(initialMessage), 3000);\n                    })\n                    .catch(error => {\n                        setPeople(\n                            people.filter(\n                                person => person.id !== targetPerson.id\n                            )\n                        );\n                        setMessage({\n                            content: `Information of ${targetPerson.name} has already been deleted from the server`,\n                            type: \"warning\"\n                        });\n                        setTimeout(() => setMessage(initialMessage), 3000);\n                    });\n            }\n        }\n    };\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={message} />\n            <Filter people={people} filter={filter} setFilter={setFilter} />\n            <h3>Add a new</h3>\n            <PeopleForm\n                newName={newName}\n                setNewName={setNewName}\n                newNumber={newNumber}\n                setNewNumber={setNewNumber}\n                handleOnSubmit={handleOnSubmit}\n            />\n            <h3>Numbers</h3>\n            <People people={people} setPeople={setPeople} />\n        </div>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}